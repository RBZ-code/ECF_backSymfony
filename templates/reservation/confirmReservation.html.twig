{% extends 'base.html.twig' %}

{% block title %}Confirmation de réservation{% endblock %}

{% block body %}
<div class="container">
    <div class="row">
        <div class="col-md-6 offset-md-3">
            <div class="card mt-5">
                <div class="card-body">
                    <h1 class="card-title text-center">Confirmation de réservation</h1>
                    <p class="card-text">Votre réservation a été enregistrée avec succès ! Voici un récapitulatif :</p>
                    <ul class="list-group">
                        <li class="list-group-item">Date de début : {{ reservation.startDate|date('Y-m-d H:i:s') }}</li>
                        <li class="list-group-item">Date de fin : {{ reservation.endDate|date('Y-m-d H:i:s') }}</li>
                        <li class="list-group-item">Salle réservée : {{ reservation.idRoom.name }}</li>
                     
                    </ul>
                    <p class="mt-3">Vous allez être redirigé vers la page d'accueil dans <span id="countdown">4</span> secondes.</p>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block javascripts %}
<script>
    
    let countdown = 4;
    setInterval(function() {
        countdown--;
        document.getElementById('countdown').innerText = countdown;
        if (countdown <= 0) {
            window.location.href = '{{ path('app_home') }}'; 
        }
    }, 1000);
</script>
{% endblock %}
