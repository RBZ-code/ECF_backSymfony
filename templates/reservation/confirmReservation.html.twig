{% extends 'base.html.twig' %}

{% block title %}Confirmation de réservation{% endblock %}

{% block body %}
<div class="container">
    <div class="row">
        <div class="col-md-6 offset-md-3">
            <div class="card mt-5">
                <div class="card-body">
                    <h1 class="card-title text-center">Confirmation de réservation</h1>
                    <p class="card-text">Votre réservation a été enregistrée avec succès ! Voici un récapitulatif :</p>
                    <ul class="list-group">
                        <li class="list-group-item">Date de début : {{ reservation.startDate|date('Y-m-d H:i:s') }}</li>
                        <li class="list-group-item">Date de fin : {{ reservation.endDate|date('Y-m-d H:i:s') }}</li>
                        <li class="list-group-item">Salle réservée : {{ reservation.idRoom.name }}</li>
                        <!-- Ajoutez d'autres détails de réservation selon vos besoins -->
                    </ul>
                    <p class="mt-3">Vous allez être redirigé vers la page d'accueil dans <span id="countdown">5</span> secondes.</p>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block javascripts %}
<script>
    // Compte à rebours pour la redirection vers la page d'accueil
    let countdown = 5;
    setInterval(function() {
        countdown--;
        document.getElementById('countdown').innerText = countdown;
        if (countdown <= 0) {
            window.location.href = '{{ path('app_home') }}'; // Remplacez 'home' par le nom de votre route vers la page d'accueil
        }
    }, 1000);
</script>
{% endblock %}
